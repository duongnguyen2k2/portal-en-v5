@model API.Areas.Admin.Models.NguonGocCayTrong.NguonGocCayTrongModel
@{
    
    string ControllerName = this.ViewContext.RouteData.Values["controller"].ToString();
    string Domain = "";
    if (Context.Request.IsHttps)
    {
        Domain = "https://" + Context.Request.Host;
    }
    else
    {
        Domain = "http://" + Context.Request.Host;
    }

    ViewData["Title"] = "Nguồn gốc cây trồng";
    ViewData["Description"] = "Nguồn gốc cây trồng";
    ViewData["Keywords"] = "Nguồn gốc cây trồng";
    ViewData["Url"] = Domain + "/nguon-goc-cay-trong.html";
    ViewData["Images"] = Domain + "/images/nguon-goc-cay-trong.png";

}
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <nav aria-label="breadcrumb pl-0">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a class="text-dark" href="/">Trang chủ</a></li>
                    <li class="breadcrumb-item active" aria-current="page">@ViewData["Title"]</li>
                </ol>
            </nav>
        </div>
    </div>

    <div class="nguongoccaytrong-wapper pb-3" id="app-nguongoccaytrong" style="display:none;" >
        <form>

            <div class="form-row justify-content-md-center">
                <div class="col-12 col-md-2">
                    <input class="form-control" v-model="SearchItems.Keyword" placeholder="Nhập mã nông hộ" />
                </div>
                <div class="col-12 col-md-2">
                    <select class="form-control" v-model="SearchItems.IdQuanHuyen" v-on:change="GetListDMPhuongXa()">
                        <option value="0">--- Chọn Huyện ---</option>
                        <template v-for="(item, index) in ListDMQuanHuyen">
                            <option v-bind:value="item.Id">{{item.Ten}}</option>
                        </template>
                    </select>
                </div>
                <div class="col-12 col-md-5">
                    <div class="form-group">
                        <select class="form-control" v-model="SearchItems.IdPhuongXa" id="DetailItem_IdPhuongXa" v-on:change="SearchChange()">
                            <option value="0">--- Chọn Phường Xã ---</option>
                            <template v-for="(item, index) in ListDMPhuongXa">
                                <option v-bind:value="item.Id">{{item.Ten}}</option>
                            </template>
                        </select>
                    </div>
                </div>

                <div class="col-12 col-md-3">
                    <div class="form-group">
                        
                        <button type="button" class="btn btn-primary btn-xs" @@click="SearchChange()" name="btn" value="search">Tìm Kiếm</button>
                       
                    </div>
                </div>

            </div>

        </form>

        <div class="row">
            <div class="col-lg-12">
                <table class="table table-striped table-centered mb-0">
                    <thead>
                        <tr>
                            <th width="50px" class="text-center">STT</th>
                            <th width="150px">Mã</th>                            
                            <th width="150px">Quận Huyện</th>
                            <th width="150px">Phường/Xã</th>
                            <th>Địa chỉ </th>
                            <th>Mô tả </th>
                            <th width="130px" class="btn-contain text-center">
                                Xem
                            </th>
                        </tr>
                    </thead>

                    <tbody>
                        <template v-if="flagLoading">
                            <tr v-for="(item,index) in ListSkeleton" :key="item">
                                
                                <td class="skeleton-loading"><div class="skeleton-bar"></div></td>
                                <td class="skeleton-loading"><div class="skeleton-bar"></div></td>
                                <td class="skeleton-loading"><div class="skeleton-bar"></div></td>
                                <td class="skeleton-loading"><div class="skeleton-bar"></div></td>
                                <td class="skeleton-loading"><div class="skeleton-bar"></div></td>
                                <td class="skeleton-loading"><div class="skeleton-bar"></div></td>
                                <td class="skeleton-loading"><div class="skeleton-bar"></div></td>

                            </tr>
                        </template>
                        <template v-if="!flagLoading">
                            <tr v-if="ListItems.length==0">
                                <td colspan="10" class="text-center">không có dữ liệu</td>
                            </tr>
                            <tr v-for="(item, index) in ListItems" v-bind:key="item.Id" v-bind:data-id="item.ID">
                                <th class="text-center">{{(index+1)}}</th>
                                <td><span class="text-body fw-bold">{{item.UserName}}</span></td>
                                <td>{{item.TenQuanHuyen}}</td>
                                <td>{{item.TenPhuongXa}}</td>
                                
                                <td>{{item.Address}}</td>
                                <td>{{item.Description}}</td>
                                <td class="table-action text-center">
                                    <a class="action-icon text-primary" title="Sửa" v-bind:href="'/NguonGocCayTrong/Detail/'+item.Id"> <i class="far fa-eye"></i> Xem chi tiết</a>
                                </td>
                            </tr>

                        </template>
                    </tbody>

                </table>
                <form asp-controller="@ControllerName" asp-action="DeleteItem" id="AjaxDeleteForm"></form>
            </div>

            <div class="row mt-2 float-end">
                <template v-if="ListItems!=null && ListItems.length>0 && SearchItems.PageCount>0">
                    <paginate v-model="SearchItems.CurrentPage"
                              :page-count="SearchItems.PageCount"
                              :page-range="3"
                              :margin-pages="2"
                              :click-handler="pageChanged"
                              :first-button-text="'Đầu'"
                              :last-button-text="'Cuối'"
                              :prev-text="'Trước'"
                              :next-text="'Sau'"
                              :first-last-button="true"
                              :container-class="'pagination pagination-rounded'"
                              :next-class="'page-item'"
                              :next-link-class="'page-link'"
                              :prev-class="'page-item'"
                              :prev-link-class="'page-link'"
                              :page-link-class="'page-link'"
                              :page-class="'page-item'">
                    </paginate>
                </template>
            </div>
        </div>
    </div>
</div>

@section Scripts{

    <script src="~/js-app/vuejs.js"></script>
    <script src="~/js-app/vuejs-paginate.js"></script>
    <script src="~/js-app/nguongoccaytrong-app-site.js"></script>
}