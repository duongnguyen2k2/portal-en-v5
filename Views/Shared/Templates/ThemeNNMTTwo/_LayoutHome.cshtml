@using API.Areas.Admin.Models.Survey
@using Microsoft.AspNetCore.Http;
@using Newtonsoft.Json;
@using API.Areas.Admin.Models.DMCoQuan;
@using Microsoft.Extensions.Configuration
@using System.Globalization;
@inject IConfiguration Configuration
@{
	int IdCoQuan = int.Parse(Context.Session.GetString("DomainId").ToString());
	int ParentId = int.Parse(Context.Session.GetString("ParentId").ToString());
	string DomainFolderUpload = Context.Session.GetString("DomainFolderUpload").ToString();
	string ControllerName = this.ViewContext.RouteData.Values["controller"].ToString();
	string ActionName = this.ViewContext.RouteData.Values["action"].ToString();
	List<SelectListItem> listLink = new List<SelectListItem>();//API.Areas.Admin.Models.Banners.BannersService.GetListItemsByCat(2, IdCoQuan);
	List<API.Areas.Admin.Models.Videos.Videos> ListItemVideos = API.Areas.Admin.Models.Videos.VideosService.GetListFeatured(IdCoQuan);

	DMCoQuan ItemCoQuan = JsonConvert.DeserializeObject<DMCoQuan>(Context.Session.GetString("ThongTinCoQuan"));
	Survey DetailSurvey = SurveyService.GetSurveyHome(Configuration["Security:SecretId"] + "HomeController", ItemCoQuan.Id);
	var ItemConfig = API.Areas.Admin.Models.SYSParams.SYSParamsService.GetItemConfigByHome(ItemCoQuan, Context);

	// ************* ListBanners **************
	string KeySessionBanners = "Banners_" + IdCoQuan.ToString() + "-" + ParentId.ToString() + DateTime.Now.ToString("yyyyMMddhh");
	string StrListBanners = Context.Session.GetString(KeySessionBanners);

	List<API.Areas.Admin.Models.Banners.Banners> ListBanners = new List<API.Areas.Admin.Models.Banners.Banners>();

	if (StrListBanners != null && StrListBanners != "" && ItemCoQuan.MetadataCV.FlagSession == 1)
	{
		ListBanners = JsonConvert.DeserializeObject<List<API.Areas.Admin.Models.Banners.Banners>>(StrListBanners);
	}
	else
	{
		ListBanners = API.Areas.Admin.Models.Banners.BannersService.GetList(IdCoQuan, ParentId, DomainFolderUpload, CultureInfo.CurrentCulture.Name.ToLower());

		if (ItemCoQuan.MetadataCV.FlagSession == 1)
		{
			Context.Session.SetString(KeySessionBanners, JsonConvert.SerializeObject(ListBanners));
		}
		else
		{
			Context.Session.Remove(KeySessionBanners);
		}

	}

	// ************* End ListBanners **************

	List<SelectListItem> ListWebXa = new List<SelectListItem>();
	if (Configuration["Security:SiteCode"] == "DLK")
	{
		ListWebXa.Add(new SelectListItem() { Value = "", Text = "DANH SÁCH WEBSITE CẤP XÃ" });
	}

	else if (Configuration["Security:SiteCode"] == "DLK-TINHDOAN")
	{
		ListWebXa.Add(new SelectListItem() { Value = "", Text = "DANH SÁCH WEBSITE HUYỆN ĐOÀN" });
	}



	if (ListBanners != null && ListBanners.Count() > 0)
	{
		for (int bn = 0; bn < ListBanners.Count(); bn++)
		{
			if (ListBanners[bn].CatId == 11)
			{
				ListWebXa.Add(new SelectListItem() { Value = ListBanners[bn].Link, Text = ListBanners[bn].Title });
			}

			if (ListBanners[bn].CatId == 2)
			{
				listLink.Add(new SelectListItem() { Value = ListBanners[bn].Link, Text = ListBanners[bn].Title });
			}
		}
	}



	// ************* Menu Dọc **************
	string KeySessionMenuDoc = "MenuDoc_" + IdCoQuan.ToString() + "-" + ParentId.ToString() + DateTime.Now.ToString("yyyyMMddhh");
	string StrListMenuDoc = Context.Session.GetString(KeySessionMenuDoc);
	List<API.Areas.Admin.Models.Menus.Menus> ListMenuDoc = new List<API.Areas.Admin.Models.Menus.Menus>();

	if (StrListMenuDoc != null && StrListMenuDoc != "" && ItemCoQuan.MetadataCV.FlagSession == 1)
	{
		ListMenuDoc = JsonConvert.DeserializeObject<List<API.Areas.Admin.Models.Menus.Menus>>(StrListMenuDoc);
	}
	else
	{
		ListMenuDoc = API.Areas.Admin.Models.Menus.MenusService.GetListByParrent(0, IdCoQuan, 1, ParentId);
		if (ItemCoQuan.MetadataCV.FlagSession == 1)
		{
			Context.Session.SetString(KeySessionMenuDoc, JsonConvert.SerializeObject(ListMenuDoc));
		}
		else
		{
			Context.Session.Remove(KeySessionMenuDoc);
		}

	}
	// ************* End Menu Dọc **************



	string linkCss = "/Templates/" + Context.Session.GetString("TemplateName") + "/css/" + Context.Session.GetString("DomainFolderUpload") + ".css";
	if (Context.Session.GetString("DomainCssName") != null && Context.Session.GetString("DomainCssName") != "")
	{
		linkCss = "/Templates/" + Context.Session.GetString("TemplateName") + "/css/" + Context.Session.GetString("DomainCssName") + "?v=" + DateTime.Now.ToString("yyyyMMddhh");
	}

	//linkCss = "/Templates/" + Context.Session.GetString("TemplateName") + "/css/vnpt-style-10.css" + "?v=" + DateTime.Now.ToString("yyyyMMddhh");

	List<API.Areas.Admin.Models.Articles.Articles> NotificationList = new List<API.Areas.Admin.Models.Articles.Articles>();
	List<API.Areas.Admin.Models.Articles.Articles> NewsList = new List<API.Areas.Admin.Models.Articles.Articles>();
	List<API.Areas.Admin.Models.Documents.Documents> NotificationListDocument = new List<API.Areas.Admin.Models.Documents.Documents>();
	if (ItemCoQuan.ThongBao.ToLower() == "documents")
	{

		NotificationListDocument = API.Areas.Admin.Models.Documents.DocumentsService.GetListNew(8, IdCoQuan, CultureInfo.CurrentCulture.Name.ToLower());
	}

	else if (ItemCoQuan.ThongBao.ToLower() == "all")
	{
		NotificationListDocument = API.Areas.Admin.Models.Documents.DocumentsService.GetListFeaturedHome(8, IdCoQuan, CultureInfo.CurrentCulture.Name.ToLower());
		NotificationList = API.Areas.Admin.Models.Articles.ArticlesService.GetListNotification(IdCoQuan, CultureInfo.CurrentCulture.Name.ToLower());
	}	
	else if (ItemCoQuan.ThongBao.ToLower() == "tinmoi")
	{
		
		NotificationList = API.Areas.Admin.Models.Articles.ArticlesService.GetListNew(0, 5, IdCoQuan, CultureInfo.CurrentCulture.Name.ToLower());
	}
	
	else if (ItemCoQuan.ThongBao.ToLower() == "thongbao_tinmoi")
	{

		NewsList = API.Areas.Admin.Models.Articles.ArticlesService.GetListNew(0, 5, IdCoQuan, CultureInfo.CurrentCulture.Name.ToLower());
		NotificationList = API.Areas.Admin.Models.Articles.ArticlesService.GetListNotification(IdCoQuan, CultureInfo.CurrentCulture.Name.ToLower());
	}
	else
	{
		NotificationList = API.Areas.Admin.Models.Articles.ArticlesService.GetListNotification(IdCoQuan, CultureInfo.CurrentCulture.Name.ToLower());
	}


}
<!DOCTYPE html>
<html lang="vi">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>@ViewData["Title"]</title>
	@await Html.PartialAsync("_PartialSEO", ItemConfig)
	
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,600,700&amp;display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400,700|Roboto:300,400,500,700&amp;display=swap&amp;subset=vietnamese" rel="stylesheet">
	<link rel="stylesheet" href="~/fonts/fonts.css" />
	<link rel="stylesheet" href="~/lib/fontawesome-free/css/all.min.css" />
	<link rel="stylesheet" href="~/lib/owl-carousel/css/owl.carousel.min.css" />
	<link rel="stylesheet" href="~/lib/owl-carousel/css/owl.theme.default.min.css" />
	<link rel="stylesheet" href="@linkCss" />
	<link rel="stylesheet" href="~/lib/mCustomScrollbar/jquery.mCustomScrollbar.min.css" />
	<link rel="stylesheet" href="~/css/@(ItemCoQuan.FolderUpload+".css?v="+DateTime.Now.ToString("yyyyMMddhh"))" />
	<script src="~/lib/jquery/dist/jquery.min.js"></script>
	<script>
		window.Site = {
			CODE: "@ItemCoQuan.Code",
		}
	</script>
	@if (ItemCoQuan.MetadataCV.FlagVideosHome == 1)
	{
		<style>
			.module-videos-right{
				display:none;
			}
		</style>
	}
	@Html.Raw(ItemCoQuan.DataHeader)
</head>

<body id="main-one">
	<partial name="Templates/@Context.Session.GetString("TemplateName")/_PartialHeaderTop" />
	<section id="section-slideshow">
		@await Html.PartialAsync("Templates/" + @Context.Session.GetString("TemplateName") + "/_PartialSlideshows", new API.Areas.Admin.Models.Banners.BannersModel() { ListItems = ListBanners })
	</section>
	<partial name="Templates/@Context.Session.GetString("TemplateName")/_PartialMenu" />
	@await Html.PartialAsync("Templates/" + @Context.Session.GetString("TemplateName") + "/_PartialKhauHieu", ItemConfig)
	<partial name="Templates/@Context.Session.GetString("TemplateName")/_PartialHotNewsSlider" />
	<partial name="Templates/@Context.Session.GetString("TemplateName")/_PartialCatMobile" />
	<div class="container-wapper page-home">

		<div class="container-page">

			<div class="row">
				<div class="col-left">
					<div class="lmenu">
						<ul class="leftmenu-list-group">
							@for (int mn = 0; mn < ListMenuDoc.Count(); mn++)
							{
								@if (@ListMenuDoc[mn].ChildCount > 0)
								{

									@await Html.PartialAsync("Templates/" + @Context.Session.GetString("TemplateName") + "/_PartialMenuChildDropdownBT", ListMenuDoc[mn])

									
								}
								else
								{
									<li>
										<a href="@ListMenuDoc[mn].Link" target="@ListMenuDoc[mn].Target">@ListMenuDoc[mn].Title</a>
									</li>
								}
							}
						</ul>
					</div>

					<!-- Moved notification section right after menu -->
					<div class="card notification-card-modern" id="featured-document">
						<div class="notification-header">
							<div class="notification-icon">
								<i class="fas fa-bell"></i>
							</div>
							<h3 class="notification-title">
								@if (ItemCoQuan.ThongBao.ToLower() == "tinmoi")
								{
									<a href="#" class="notification-link">TIN MỚI</a>
								}
								else
								{
									<a asp-controller="Articles" asp-action="Notification" class="notification-link">
										@if (ItemCoQuan.Id == 7)
										{
											<span>TIN TỨC, SỰ KIỆN</span>
										}
										else
										{
											<span>THÔNG BÁO</span>
										}
									</a>
								}
							</h3>
							<div class="notification-badge">@(NotificationList?.Count() ?? 0)</div>
						</div>
						<div class="notification-body">
							<div class="notification-list">
								<div class="notification-scroll-content">
									@if (NotificationList != null && NotificationList.Count() > 0)
									{
										@for (int i = 0; i < NotificationList.Count(); i++)
										{
											<div class="notification-item @(i == 0 ? "latest" : "")">
												<div class="notification-content">
													<a asp-controller="Articles" asp-action="Detail" asp-route-id="@NotificationList[i].Id" asp-route-alias="@NotificationList[i].Alias" title="@NotificationList[i].Title" class="notification-text">
														@NotificationList[i].Title
													</a>
													<div class="notification-meta">
														<span class="notification-date">
															<i class="fas fa-calendar-alt"></i>
															@NotificationList[i].PublishUp.ToString("dd/MM/yyyy")
														</span>
														@if (i == 0)
														{
															<span class="notification-new">MỚI</span>
														}
													</div>
												</div>
												<div class="notification-arrow">
													<i class="fas fa-chevron-right"></i>
												</div>
											</div>
										}
									}
									else
									{
										<div class="notification-empty">
											<i class="fas fa-inbox"></i>
											<p>Chưa có thông báo nào</p>
										</div>
									}
								</div>
							</div>
						</div>
					</div>

					@if (ListWebXa != null && ListWebXa.Count() > 1)
					{
						<div id="link-website-xa">
							<div id="@("link-website-")+Configuration[" Security:SiteCode"]" class="link-website-xa-body">
								<select name="RedirectLinkXa" id="RedirectLinkXa" class="form-control" asp-items="ListWebXa"></select>
							</div>
						</div>
					}

					<!---------Banner Ban Do Hanh Chinh ---------->
					<div id="ban-do-hanh-chinh">
						<div class="card card-style-two">
							<div class="card-header">
								<h3>
									<a>Bản đồ hành chính</a>
								</h3>
							</div>

							<div class="card-body p-0 m-0">
								@if (ItemCoQuan.MetadataCV.LinkBanDo != null && ItemCoQuan.MetadataCV.LinkBanDo != "")
								{
									<a href="@ItemCoQuan.MetadataCV.LinkBanDo">
										<img src="~/uploads/@ItemCoQuan.FolderUpload/banners/ban-do-hanh-chinh.png" alt="ItemCoQuan.Title" id="ban-do-hanh-chinh-img" />
									</a>
								}
								else
								{
									<img src="~/uploads/@ItemCoQuan.FolderUpload/banners/ban-do-hanh-chinh.png" alt="ItemCoQuan.Title" id="ban-do-hanh-chinh-img" />
								}

							</div>
						</div>
					</div>
					<!---------END Banner Ban Do Hanh Chinh ---------->
					<!---------Banner Left Top ---------->
					@if (ListBanners != null && ListBanners.Count() > 0)
					{
						@for (int i = 0; i < ListBanners.Count(); i++)
						{
							if (ListBanners[i].CatId == 5)
							{
								<div class="banner-item">
									<a href="@ListBanners[i].Link" target="@ListBanners[i].Target">
										<img src="@ListBanners[i].Image" class="d-block w-100" alt="@ListBanners[i].Title" />
									</a>
								</div>
							}

						}
					}
					@await Html.PartialAsync("_PartialThongKeHoSo", ItemCoQuan)

					<div class="card border-0 card-style-one mb-2" id="link-website">
						<div class="card-header rounded-0">
							Liên kết website
						</div>
						<div class="card-body pl-0 pr-0">
							<select name="RedirectLink" id="RedirectLink" class="form-control rounded-0" asp-items="listLink"></select>
						</div>
					</div>

					<partial name="_PartialSiteVisit" />


					
					@* @await Html.PartialAsync("Templates/" + @Context.Session.GetString("TemplateName") + "/_PartialSurvey", ItemConfig) *@
					

					@if (ItemCoQuan.MetadataCV.IsEnabledInforKnow == true)
					{
						@await Html.PartialAsync("_PartialThongTinCanThiet", ItemCoQuan)
					}

					<!---------Banner Right Bottom ---------->
					@if (ListBanners != null && ListBanners.Count() > 0)
					{
						@for (int i = 0; i < ListBanners.Count(); i++)
						{
							if (ListBanners[i].CatId == 6)
							{
								<div class="banner-item">
									<a href="@ListBanners[i].Link" target="@ListBanners[i].Target">
										<img src="@ListBanners[i].Image" class="d-block w-100" alt="@ListBanners[i].Title" />
									</a>
								</div>
							}

						}
					}




				</div>
				<div class="col-center ">
					@RenderBody()
					@await Html.PartialAsync("Templates/" + @Context.Session.GetString("TemplateName") + "/_PartialChuyenMucKhac", new API.Areas.Admin.Models.Banners.BannersModel { ListItems = ListBanners })
				</div>

				<div class="col-right" style="display: none;">
					<!-- Notification moved to left column -->

					@if (ItemCoQuan.Id == 7)
					{
						<div class="card card-style-two border-0 notification-home" id="featured-article">
							<div class="card-header">
								<h3>
									<a asp-controller="Articles" asp-action="Notification">
										<span>THÔNG BÁO</span>
									</a>
								</h3>
							</div>
							<div class="card-body">
								<div id="marquee_articles_right">
									<ul>
										@if (NotificationListDocument != null && NotificationListDocument.Count() > 0)
										{


											@for (int i = 0; i < NotificationListDocument.Count(); i++)
											{
												<li class="mb-2">
													<a asp-controller="Documents" asp-action="Detail" asp-route-id="@NotificationListDocument[i].Id" asp-route-alias="@NotificationListDocument[i].Alias" title="@NotificationListDocument[i].Title">
														@NotificationListDocument[i].Title
														<span>(@NotificationListDocument[i].IssuedDate.ToString("dd/MM/yyy"))</span>
													</a>
												</li>
											}
										}
									</ul>
								</div>
							</div>
						</div>
					}
					else if (ItemCoQuan.ThongBao.ToLower() == "thongbao_tinmoi")
					{
						<div class="card card-style-two border-0 notification-home" id="featured-article">
							<div class="card-header">
								<h3>
									<a href="#">
										<span>TIN MỚI</span>
									</a>
								</h3>
							</div>
							<div class="card-body">
								<div id="carouselThongBaoTinMoi" class="carousel slide" data-ride="carousel">									
									<div class="carousel-inner">
										@if (NewsList != null && NewsList.Count() > 0)
										{
											string str_news_list = "active";
											int carousel_news_list = 0;
											@for (int i = 0; i < NewsList.Count(); i++)
											{
												carousel_news_list = carousel_news_list + 1;
												@if (carousel_news_list > 1) { str_news_list = ""; }

												<div class="carousel-item @str_news_list">
													<img src="@NewsList[i].Images" class="d-block w-100" alt="@NewsList[i].Title">
													<div class="carousel-caption d-none d-md-block">
														<h5>@NewsList[i].Title</h5>
														<p>@NewsList[i].IntroText</p>
													</div>
												</div>
											}
										}
										
									</div>
									<button class="carousel-control-prev" type="button" data-target="#carouselThongBaoTinMoi" data-slide="prev">
										<span class="carousel-control-prev-icon" aria-hidden="true"></span>
										<span class="sr-only">Previous</span>
									</button>
									<button class="carousel-control-next" type="button" data-target="#carouselThongBaoTinMoi" data-slide="next">
										<span class="carousel-control-next-icon" aria-hidden="true"></span>
										<span class="sr-only">Next</span>
									</button>
								</div>
							</div>
						</div>
					}

					


@* 
					<div class="card border-0 card-style-one" id="module-videos-right">
						<div class="card-header rounded-0">
							<a asp-controller="Videos" asp-action="Index">Videos</a>
						</div>
						<div class="card-body pl-0 pt-1 pb-0 pr-0 mb-2" id="section-videos">
							<div id="myCarouselVideo" class="carousel slide" data-ride="carousel">
								<!-- Wrapper for slides -->

								<div class="carousel-inner" role="listbox">
									@if (ListItemVideos != null && ListItemVideos.Count() > 0)
									{
										<div class="carousel-item active">
											@if (ListItemVideos[0].IdType == 1)
											{
												<iframe style="width:100%" src="@("https://www.youtube.com/embed/"+@ListItemVideos[0].Link)" title="@ListItemVideos[0].Title" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
											}
											else
											{
												<video style="width:100%" controls="" class="video-item">
													<source src="@ListItemVideos[0].LinkSv" type="video/mp4">
												</video>
											}
										</div>
									}
									else
									{
										<div class="item  active">
											<video style="width:100%" controls class="video-item">
												<source src="/videos/chi-can-nu-cuoi.mp4" type="video/mp4">
											</video>
										</div>
									}
								</div>
							</div>
							<div id="marquee_videos" style="height: 180px;" class="marquee_videos_feature">
								<ul class="ml-2 mb-0 pl-1 pb-2">
									@if (ListItemVideos.Count > 1)
									{
										for (int i = 1; i < ListItemVideos.Count(); i++)
										{
											<li class="pt-1"><a asp-controller="Videos" asp-action="Detail" asp-route-id="@ListItemVideos[i].Id" asp-route-alias="@ListItemVideos[i].Alias">@ListItemVideos[i].Title</a></li>
										}
									}

								</ul>
							</div>
						</div>
					</div> *@




					<!---------Banner Right Bottom ---------->
					@if (ListBanners != null && ListBanners.Count() > 0)
					{
						@for (int i = 0; i < ListBanners.Count(); i++)
						{
							if (ListBanners[i].CatId == 7)
							{
								<div class="banner-item">
									<a href="@ListBanners[i].Link" target="@ListBanners[i].Target">
										<img src="@ListBanners[i].Image" class="d-block w-100" alt="@ListBanners[i].Title" />
									</a>
								</div>
							}

						}
					}

					<!---------Banner Right Bottom ---------->
					@if (ListBanners != null && ListBanners.Count() > 0)
					{
						@for (int i = 0; i < ListBanners.Count(); i++)
						{
							if (ListBanners[i].CatId == 8)
							{
								<div class="banner-item">
									<a href="@ListBanners[i].Link" target="@ListBanners[i].Target">
										<img src="@ListBanners[i].Image" class="d-block w-100" alt="@ListBanners[i].Title" />
									</a>
								</div>
							}

						}
					}
					@*@await Html.PartialAsync("_PartialThongKeHoSo", ItemCoQuan)*@
					@await Html.PartialAsync("_PartialVanBanDienTu", ItemCoQuan)


				</div>
			</div>
		</div>

	</div>



	@await Html.PartialAsync("Templates/" + @Context.Session.GetString("TemplateName") + "/_PartialMenuFooter", ItemConfig)
	@await Html.PartialAsync("Templates/" + @Context.Session.GetString("TemplateName") + "/_PartialFooter", ItemConfig)

	<script src="~/lib/js/jquery.marquee.min.js?v=@DateTime.Now.ToString("yyyyMMddhh")"></script>
	<script src="~/lib/js/jquery.easing.js"></script>
	<script src="~/lib/js/popper.min.js?v=@DateTime.Now.ToString("yyyyMMddhh")"></script>
	<script src="~/lib/js/bootstrap.min.js?v=@DateTime.Now.ToString("yyyyMMddhh")"></script>
	<script src="~/lib/stellarnav/js/stellarnav.min.js"></script>
	<script src="~/lib/owl-carousel/js/owl.carousel.min.js"></script>
	<script src="~/lib/mCustomScrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
	<script src="~/js/site.js?v=@DateTime.Now.ToString("yyyyMMddhh")"></script>


	<script src="https://sp.zalo.me/plugins/sdk.js"></script>

	<script type="text/javascript">
		jQuery('.stellarnav').stellarNav({

			breakpoint: 991,
			position: 'right',
			phoneBtn: '@ItemCoQuan.Telephone',
			closeLabel: 'Đóng'
		});
		$('.scrollWrap').mCustomScrollbar({
			theme: 'dark-3'
		});
		$('#banner-lienket-anh-body').owlCarousel({
			loop: true,
			margin: 6,
			autoplay: true,
			nav: true,
			responsive: {
				0: {
					items: 3
				},
				600: {
					items: 3
				},
				1000: {
					items: 5
				}
			}
		});
		$('#banner-tinmoi-anh-body').owlCarousel({
			loop: true,
			margin: 6,
			autoplay: true,
			nav: true,
			responsive: {
				0: {
					items: 1
				},
				600: {
					items: 2
				},
				1000: {
					items: 4
				}
			}
		});
	</script>

	<script>
		$('#RedirectLink').on('change', function() {
			var url = $(this).val();
			console.log(url);
			if (url) {
				window.open(url, '_blank');
			}
			return false;
		});
		$('#RedirectLinkXa').on('change', function() {
			var url = $(this).val();
			console.log(url);
			if (url) {
				window.open(url, '_blank');
			}
			return false;
		});

		$('.marquee').marquee({
			speed: 100,
			gap: 500,
			direction: 'left',
			duplicated: true,
			pauseOnHover: true
		});
		$('#marquee_document_right').marquee({
			duration: 15000,
			gap: 13,
			delayBeforeStart: 0,
			direction: 'up',
			duplicated: true,
			startVisible: true
		});

		$('#marquee_articles_right').marquee({
			duration: 15000,
			gap: 13,
			delayBeforeStart: 0,
			direction: 'up',
			duplicated: true,
			startVisible: true
		});

		$('#marquee_videos').marquee({
			duration: 15000,
			gap: 13,
			delayBeforeStart: 0,
			direction: 'up',
			duplicated: true,
			startVisible: true
		});

		$(document).ready(function() {
			// Font zoom functionality
			var currentZoomLevel = 0; // -2, -1, 0, 1, 2
			var zoomStep = 2; // px increase/decrease per level
			
			// Các selector cho nội dung text
			var contentSelectors = [
				'.card-body', '.notification-text', '.main-title', '.sub-title',
				'p', '.news-layout-modern', '.main-article-content', '.sub-article-content',
				'.notification-item', '.leftmenu-list-group', '.category-list',
				'h1, h2, h3, h4, h5, h6', '.article-title', '.article-content',
				'.main-summary', '.notification-content', 'li', 'a', 'span:not(.fa):not(.fas)',
				'.card-header h3', '.panel-title', '.footer-about', '.footer-contact'
			].join(', ');
			
			$('#incfont').click(function() {
				if (currentZoomLevel < 2) {
					currentZoomLevel++;
					$(contentSelectors).each(function() {
						var currentSize = parseInt($(this).css('font-size')) || 14;
						$(this).css('font-size', (currentSize + zoomStep) + 'px');
					});
					console.log('Increased font level: ' + currentZoomLevel);
				}
				return false;
			});
			
			$('#decfont').click(function() {
				if (currentZoomLevel > -2) {
					currentZoomLevel--;
					$(contentSelectors).each(function() {
						var currentSize = parseInt($(this).css('font-size')) || 14;
						if (currentSize > 10) { // Không cho phép nhỏ hơn 10px
							$(this).css('font-size', (currentSize - zoomStep) + 'px');
						}
					});
					console.log('Decreased font level: ' + currentZoomLevel);
				}
				return false;
			});
		});

		function SubmitSearch() {
			$('form#search-top').submit();
		}

		jQuery(document).ready(function() {
			jQuery('#scrollToTop').fadeOut();
			jQuery(window).scroll(function() {
				if (jQuery(window).scrollTop() != 0) {
					jQuery('#scrollToTop').fadeIn();
				} else {
					jQuery('#scrollToTop').fadeOut();
				}
			});
			jQuery('#scrollToTop').click(function() {
				jQuery('html, body').animate({ scrollTop: 0 }, 500);
			});
		});

		$("#body-scroll-nav").mCustomScrollbar({
			axis: "x",
			setWidth: false,
			alwaysShowScrollbar: 2,
			theme: 'dark-3'
		});


	</script>


	@RenderSection("Scripts", required: false)
</body>
</html>
