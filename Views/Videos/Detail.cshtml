@model API.Areas.Admin.Models.Videos.VideosModel
@using Microsoft.AspNetCore.Http;
@using Microsoft.AspNetCore.Mvc.Localization
@using System.Globalization;
@using Microsoft.Extensions.Configuration;
@inject IConfiguration Configuration;
@inject IViewLocalizer Localizer;
@{
    Layout = "Templates/" + Context.Session.GetString("TemplateName") + "/_LayoutHome";

    string Domain = "";
    if (Context.Request.IsHttps)
    {
        Domain = "https://" + Context.Request.Host;
    }
    else
    {
        Domain = "http://" + Context.Request.Host;
    }

    ViewData["Title"] = (Model.Item.Title);
    ViewData["Description"] = (Model.Item.Description);
    ViewData["Url"] = Domain + "/video/" + Model.Item.Alias + "-" + Model.Item.Id.ToString() + ".html";

    if (Model.Item.IdType == 1)
    {
        ViewData["Images"] = "https://img.youtube.com/vi/" + @Model.Item.Link + "/0.jpg";
    }
    else
    {
        ViewData["Images"] =  @Model.Item.Image;
    }

    string ControllerName = this.ViewContext.RouteData.Values["controller"].ToString();
    string bodyMail = Domain + "/video/" + Model.Item.Alias + "-" + Model.Item.Id.ToString() + ".html";
}
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v5.0&appId=1511988695606372&autoLogAppEvents=1"></script>
<div class="row">
    <div class="col-md-12">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                @if (Configuration["Security:SiteCode"] == "KTTT")
                {
                    <li class="breadcrumb-item"><a href="/">@Localizer["Home"]</a></li>
                }
                else
                {
                    <li class="breadcrumb-item"><a href="/">Trang chủ</a></li>
                }
                <li class="breadcrumb-item"><a class="text-dark" asp-controller="Videos" asp-action="Index" asp-route-id="@Model.Categories.Id" asp-route-alias="@Model.Categories.Alias">@(Model.Categories.Title)</a></li>
                <li class="breadcrumb-item active" aria-current="page">@ViewData["Title"]</li>
            </ol>
        </nav>
    </div>
</div>
<div class="PageDetail detail-video">
    <div class="row">
        <div class="col-lg-12">
            @if (Model.Item.IdType == 1)
            {
                <iframe style="width:100%;height:450px;" src="@("https://www.youtube.com/embed/"+@Model.Item.Link+"?autoplay=1&rel=0")" title="@Model.Item.Title" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            }
            else if (Model.Item.IdType == 2)
            {
                <iframe style="width:100%;height:450px;" src="@Model.Item.Link" title="@Model.Item.Title" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            }
            else
            {
                <video style="width:100%;" controls="" class="video-item" autoplay>
                    <source src="@Model.Item.LinkSv" type="video/mp4">
                </video>
            }

            <h3 class="detail-title-video">@Model.Item.Title</h3>
            <p class="text-justify">@Html.Raw(Model.Item.Description)</p>
        </div>

    </div>
    <div class="row">
        @if (Model.ListItems != null && Model.ListItems.Count > 0)
        {
            @for (int i = 0; i < Model.ListItems.Count(); i++)
            {
                <div class="gallery col-md-4 col-12">
                    <div class="card">
                        @if (Model.ListItems[i].IdType == 0)
                        {
                            <a asp-controller="Videos" asp-action="Detail" asp-route-id="@Model.ListItems[i].Id" asp-route-alias="@Model.ListItems[i].Alias">
                                <img src="@Model.ListItems[i].Image" class="img-fluid" alt="@Model.ListItems[i].Title" />
                                <div class="title-video">@Model.ListItems[i].Title</div>
                            </a>
                        }
                        else
                        {
                            <a asp-controller="Videos" asp-action="Detail" asp-route-id="@Model.ListItems[i].Id" asp-route-alias="@Model.ListItems[i].Alias">
                                <img src="https://img.youtube.com/vi/@Model.ListItems[i].Link/0.jpg" class="img-fluid" alt="@Model.ListItems[i].Alias" />
                                <div class="title-video">@Model.ListItems[i].Title</div>
                            </a>
                        }
                    </div>
                </div>

            }

        }
    </div>
    <a href="mailto:?subject=@Model.Item.Title&body=@bodyMail" id="article-email">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-envelope-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z" />
        </svg> Gửi Email
    </a>
    <div id="social">
        <div class="fb-share-button" data-href="@ViewData["Url"]" data-layout="button" data-size="large"><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=@ViewData["Url"];src=sdkpreparse" class="fb-xfbml-parse-ignore">Chia sẻ</a></div>
    </div>
    <div id="social-zalo">
        <div class="zalo-share-button" data-href="" data-oaid="579745863508352884" data-layout="1" data-color="blue" data-customize=false></div>
    </div>
</div>
<style>

    .detail-title-video {
        font-size: 14px;
        text-align: center;
        font-weight: bold;
        margin-top: 10px;
    }
</style>